
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Lab Session for CS153 Design of Operating System">
      
      
        <meta name="author" content="Zhaoqi Xiao">
      
      
        <link rel="canonical" href="http://gdjs2.cn/UCR-CS153-25Winter/lab-instructions/lab0/">
      
      
        <link rel="prev" href="../c-pointers/">
      
      
        <link rel="next" href="../lab1/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.44">
    
    
      
        <title>Lab 0 Instructions - CS153 Design of Operating System - Lab Session</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lab-0-instructions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="CS153 Design of Operating System - Lab Session" class="md-header__button md-logo" aria-label="CS153 Design of Operating System - Lab Session" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CS153 Design of Operating System - Lab Session
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab 0 Instructions
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="CS153 Design of Operating System - Lab Session" class="md-nav__button md-logo" aria-label="CS153 Design of Operating System - Lab Session" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    CS153 Design of Operating System - Lab Session
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CS153 - Design of Operating System - Lab Session - 25 Winter
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lab instructions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Lab instructions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c-pointers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction to C language and Pointers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Lab 0 Instructions
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Lab 0 Instructions
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#before-you-start" class="md-nav__link">
    <span class="md-ellipsis">
      Before you start
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accept-lab-0" class="md-nav__link">
    <span class="md-ellipsis">
      Accept Lab 0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-system" class="md-nav__link">
    <span class="md-ellipsis">
      Required System
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Required Tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Required Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#debian-or-ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      Debian or Ubuntu
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arch-linux" class="md-nav__link">
    <span class="md-ellipsis">
      Arch Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macos" class="md-nav__link">
    <span class="md-ellipsis">
      macOS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-your-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Test your tools
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clone-your-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Clone your repository
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compile" class="md-nav__link">
    <span class="md-ellipsis">
      Compile
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-the-first-user-program" class="md-nav__link">
    <span class="md-ellipsis">
      Add the First User Program!
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#push-your-work" class="md-nav__link">
    <span class="md-ellipsis">
      Push Your Work
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-linux-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Linux Commands
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-git-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Git Commands
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#git-related-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Git related Questions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Git related Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-can-i-clone-a-private-repository-to-my-local-machine" class="md-nav__link">
    <span class="md-ellipsis">
      How can I clone a private repository to my local machine?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-if-there-is-a-permission-error-when-i-try-cloning-a-repository" class="md-nav__link">
    <span class="md-ellipsis">
      What if there is a permission error when I try cloning a repository?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 1 - System Call
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pull-request/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Github Classroom Pull Request
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#before-you-start" class="md-nav__link">
    <span class="md-ellipsis">
      Before you start
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accept-lab-0" class="md-nav__link">
    <span class="md-ellipsis">
      Accept Lab 0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-system" class="md-nav__link">
    <span class="md-ellipsis">
      Required System
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Required Tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Required Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#debian-or-ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      Debian or Ubuntu
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arch-linux" class="md-nav__link">
    <span class="md-ellipsis">
      Arch Linux
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macos" class="md-nav__link">
    <span class="md-ellipsis">
      macOS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-your-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Test your tools
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clone-your-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Clone your repository
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compile" class="md-nav__link">
    <span class="md-ellipsis">
      Compile
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-the-first-user-program" class="md-nav__link">
    <span class="md-ellipsis">
      Add the First User Program!
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#push-your-work" class="md-nav__link">
    <span class="md-ellipsis">
      Push Your Work
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-linux-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Linux Commands
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-git-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Git Commands
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#git-related-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Git related Questions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Git related Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-can-i-clone-a-private-repository-to-my-local-machine" class="md-nav__link">
    <span class="md-ellipsis">
      How can I clone a private repository to my local machine?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-if-there-is-a-permission-error-when-i-try-cloning-a-repository" class="md-nav__link">
    <span class="md-ellipsis">
      What if there is a permission error when I try cloning a repository?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="lab-0-instructions">Lab 0 Instructions</h1>
<h2 id="before-you-start">Before you start</h2>
<ol>
<li>You don't need to submit ANYTHING for this lab.</li>
<li>This is a demo for you to get familiar to the github classroom.</li>
<li>Try this step-by-step demo and push your work to see whether you can achieve full score!</li>
</ol>
<h2 id="accept-lab-0">Accept Lab 0</h2>
<p>Accept Lab 0 thourgh the link: <a href="https://classroom.github.com/a/tgW8fvsX">https://classroom.github.com/a/tgW8fvsX</a>. Join our classroom and link your github account with your netid. If you don't see your netid in the list, tell me!</p>
<h2 id="required-system">Required System</h2>
<p>A Unix-like system!
It can be:</p>
<ol>
<li>Any Linux distribution (e.g., Ubuntu)</li>
<li>macOS</li>
<li>Windows Subsystem Linux, WSL (Click <a href="https://learn.microsoft.com/en-us/windows/wsl/install">here</a> to see how to install!). I suggest you all install Ubuntu 24.04. Because QEMU on the repository of Ubuntu 22.04 is with version 6.2, which is incompatible to current xv6. The 8.2 version QEMU in Ubuntu 24.04 works well. </li>
</ol>
<p>When you install using powershell command, change the command <code>wsl --install</code> to <code>wsl --install -d ubuntu-24.04</code> which will change Linux distribution you install. </p>
<h2 id="required-tools">Required Tools</h2>
<p>After you get your system set up, you should install some necessary tools for developing xv6. Run the following command in your command line (copy &amp; paste the command just following the $ sign).</p>
<p>If you meet errors when downloading the requirements, check whether you update your package manager's index first. For example, if you are using Ubuntu, you need use <code>$ sudo apt update</code> to update your index.</p>
<h3 id="debian-or-ubuntu">Debian or Ubuntu</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>git<span class="w"> </span>build-essential<span class="w"> </span>gdb-multiarch<span class="w"> </span>qemu-system-misc<span class="w"> </span>gcc-riscv64-linux-gnu<span class="w"> </span>binutils-riscv64-linux-gnu<span class="w"> </span>
</code></pre></div></td></tr></table></div>
<h3 id="arch-linux">Arch Linux</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>riscv64-linux-gnu-binutils<span class="w"> </span>riscv64-linux-gnu-gcc<span class="w"> </span>riscv64-linux-gnu-gdb<span class="w"> </span>qemu-emulators-full
</code></pre></div></td></tr></table></div>
<h3 id="macos">macOS</h3>
<p>Install developer tools if you haven't:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>xcode-select<span class="w"> </span>--install
</code></pre></div></td></tr></table></div></p>
<p>Next, install <a href="https://brew.sh">Homebrew</a>, a package manager for macOS if you haven't:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>/bin/bash<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>curl<span class="w"> </span>-fsSL<span class="w"> </span>https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class="k">)</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div></p>
<p>Next, install the RISC-V compiler <a href="https://github.com/riscv-software-src/homebrew-riscv">toolchain</a>:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>brew<span class="w"> </span>tap<span class="w"> </span>riscv-software-src/riscv
$<span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>riscv-tools
</code></pre></div></td></tr></table></div></p>
<p>The brew formula may not link into /usr/local. You will need to update your shell's rc file (e.g. <a href="https://www.gnu.org/software/bash/manual/html_node/Bash-Startup-Files.html">~/.bashrc</a>) to add the appropriate directory to <a href="https://www.linfo.org/path_env_var.html">$PATH</a>.</p>
<p>Finally install QEMU:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>brew<span class="w"> </span>install<span class="w"> </span>qemu
</code></pre></div></td></tr></table></div></p>
<h3 id="test-your-tools">Test your tools</h3>
<p>Run the following command to see whether it can give you the version number for the programs:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>qemu-system-riscv64<span class="w"> </span>--version
QEMU<span class="w"> </span>emulator<span class="w"> </span>version<span class="w"> </span><span class="m">8</span>.2.2<span class="w"> </span><span class="o">(</span>Debian<span class="w"> </span><span class="m">1</span>:8.2.2+ds-0ubuntu1.2<span class="o">)</span>
...
</code></pre></div></td></tr></table></div></p>
<p>And at least one RISC-V version of GCC:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>riscv64-linux-gnu-gcc<span class="w"> </span>--version
riscv64-linux-gnu-gcc<span class="w"> </span><span class="o">(</span>Ubuntu<span class="w"> </span><span class="m">13</span>.2.0-23ubuntu4<span class="o">)</span><span class="w"> </span><span class="m">13</span>.2.0
...
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>riscv64-unknown-elf-gcc<span class="w"> </span>--version
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>riscv64-unknown-linux-gnu-gcc<span class="w"> </span>--version
</code></pre></div></td></tr></table></div></p>
<h2 id="clone-your-repository">Clone your repository</h2>
<p>After you accept the lab, you will get a repository for our lab 0, which has a name <code>lab0-***</code>. Clone this repo to your local machine. If you never used Github before (never set a SSH key for your account), please refer to <a href="#git-related-questions">here</a>. </p>
<h2 id="compile">Compile</h2>
<p>Get into the directory with your lab0 code.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/some/path/to/xv6-riscv-lab0
</code></pre></div></td></tr></table></div>
<p>Build and run xv6
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>make<span class="w"> </span>qemu
riscv64-linux-gnu-gcc<span class="w">    </span>-c<span class="w"> </span>-o<span class="w"> </span>kernel/entry.o<span class="w"> </span>kernel/entry.S
riscv64-linux-gnu-gcc<span class="w"> </span>-Wall<span class="w"> </span>-Werror<span class="w"> </span>-O<span class="w"> </span>-fno-omit-frame-pointer<span class="w"> </span>-ggdb
...
riscv64-linux-gnu-objdump<span class="w"> </span>-S<span class="w"> </span>user/_zombie<span class="w"> </span>&gt;<span class="w"> </span>user/zombie.asm
riscv64-linux-gnu-objdump<span class="w"> </span>-t<span class="w"> </span>user/_zombie<span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span><span class="s1">&#39;1,/SYMBOL TABLE/d; s/ .* / /; /^$/d&#39;</span><span class="w"> </span>&gt;<span class="w"> </span>user/zombie.sym
mkfs/mkfs<span class="w"> </span>fs.img<span class="w"> </span>README<span class="w"> </span>user/_cat<span class="w"> </span>user/_echo<span class="w"> </span>user/_forktest<span class="w"> </span>user/_grep<span class="w"> </span>user/_init<span class="w"> </span>user/_kill<span class="w"> </span>user/_ln<span class="w"> </span>user/_ls<span class="w"> </span>user/_mkdir<span class="w"> </span>user/_rm<span class="w"> </span>user/_sh<span class="w"> </span>user/_stressfs<span class="w"> </span>user/_usertests<span class="w"> </span>user/_grind<span class="w"> </span>user/_wc<span class="w"> </span>user/_zombie<span class="w"> </span>
nmeta<span class="w"> </span><span class="m">46</span><span class="w"> </span><span class="o">(</span>boot,<span class="w"> </span>super,<span class="w"> </span>log<span class="w"> </span>blocks<span class="w"> </span><span class="m">30</span><span class="w"> </span>inode<span class="w"> </span>blocks<span class="w"> </span><span class="m">13</span>,<span class="w"> </span>bitmap<span class="w"> </span>blocks<span class="w"> </span><span class="m">1</span><span class="o">)</span><span class="w"> </span>blocks<span class="w"> </span><span class="m">1954</span><span class="w"> </span>total<span class="w"> </span><span class="m">2000</span>
balloc:<span class="w"> </span>first<span class="w"> </span><span class="m">767</span><span class="w"> </span>blocks<span class="w"> </span>have<span class="w"> </span>been<span class="w"> </span>allocated
balloc:<span class="w"> </span>write<span class="w"> </span>bitmap<span class="w"> </span>block<span class="w"> </span>at<span class="w"> </span>sector<span class="w"> </span><span class="m">45</span>
qemu-system-riscv64<span class="w"> </span>-machine<span class="w"> </span>virt<span class="w"> </span>-bios<span class="w"> </span>none<span class="w"> </span>-kernel<span class="w"> </span>kernel/kernel<span class="w"> </span>-m<span class="w"> </span>128M<span class="w"> </span>-smp<span class="w"> </span><span class="m">3</span><span class="w"> </span>-nographic<span class="w"> </span>-global<span class="w"> </span>virtio-mmio.force-legacy<span class="o">=</span><span class="nb">false</span><span class="w"> </span>-drive<span class="w"> </span><span class="nv">file</span><span class="o">=</span>fs.img,if<span class="o">=</span>none,format<span class="o">=</span>raw,id<span class="o">=</span>x0<span class="w"> </span>-device<span class="w"> </span>virtio-blk-device,drive<span class="o">=</span>x0,bus<span class="o">=</span>virtio-mmio-bus.0

xv6<span class="w"> </span>kernel<span class="w"> </span>is<span class="w"> </span>booting

hart<span class="w"> </span><span class="m">2</span><span class="w"> </span>starting
hart<span class="w"> </span><span class="m">1</span><span class="w"> </span>starting
init:<span class="w"> </span>starting<span class="w"> </span>sh
</code></pre></div></td></tr></table></div></p>
<p>Now, xv6-riscv has been compiled and a bash is running. If you type <code>ls</code> at the prompt, you should see output similar to the following:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>ls
.<span class="w">              </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1024</span>
..<span class="w">             </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1024</span>
README<span class="w">         </span><span class="m">2</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">2292</span>
cat<span class="w">            </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">34264</span>
<span class="nb">echo</span><span class="w">           </span><span class="m">2</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">33184</span>
forktest<span class="w">       </span><span class="m">2</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">16184</span>
grep<span class="w">           </span><span class="m">2</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">37520</span>
init<span class="w">           </span><span class="m">2</span><span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="m">33648</span>
<span class="nb">kill</span><span class="w">           </span><span class="m">2</span><span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="m">33104</span>
ln<span class="w">             </span><span class="m">2</span><span class="w"> </span><span class="m">9</span><span class="w"> </span><span class="m">32920</span>
ls<span class="w">             </span><span class="m">2</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">36288</span>
mkdir<span class="w">          </span><span class="m">2</span><span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">33160</span>
rm<span class="w">             </span><span class="m">2</span><span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">33152</span>
sh<span class="w">             </span><span class="m">2</span><span class="w"> </span><span class="m">13</span><span class="w"> </span><span class="m">54728</span>
stressfs<span class="w">       </span><span class="m">2</span><span class="w"> </span><span class="m">14</span><span class="w"> </span><span class="m">34048</span>
usertests<span class="w">      </span><span class="m">2</span><span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">179352</span>
grind<span class="w">          </span><span class="m">2</span><span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">49400</span>
wc<span class="w">             </span><span class="m">2</span><span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">35216</span>
zombie<span class="w">         </span><span class="m">2</span><span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="m">32528</span>
console<span class="w">        </span><span class="m">3</span><span class="w"> </span><span class="m">19</span><span class="w"> </span><span class="m">0</span>
</code></pre></div></td></tr></table></div></p>
<p>There are the files that mkfs includes in the initial file system; most are programs you can run. </p>
<p>To quit qemu type <code>Ctrl-a x</code> (press <code>Ctrl</code> and <code>a</code> at the same time, followed by <code>x</code>)</p>
<h2 id="add-the-first-user-program">Add the First User Program!</h2>
<p>Open this directory using any code editor (e.g., vscode). In the directory <code>/user</code>, add a file named by <code>hello-world.c</code>. </p>
<p>Copy and paste the following code to the file. Remember to save it.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;kernel/types.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;user/user.h&quot;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;hello, world</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Add one line in the file <code>/Makefile</code>, just after line 141 and save. </p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="err">...</span>
<span class="w">    </span><span class="err">$U/_grind\</span>
<span class="w">    </span><span class="err">$U/_wc\</span>
<span class="w">    </span><span class="err">$U/_zombie\</span>
<span class="w">    </span><span class="err">$U/_hello-world\</span>
</code></pre></div></td></tr></table></div>
<p>Now recompile the code using <code>make qemu</code>. After you see <code>init: starting sh</code>. You can type <code>ls</code> to check whether there is a new program naming <code>hello-world</code>. If there is, type command <code>hello-world</code> to run this program. </p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>$<span class="w"> </span>hello-world
hello,<span class="w"> </span>world
</code></pre></div></td></tr></table></div>
<p>You are done with your work here!</p>
<h2 id="push-your-work">Push Your Work</h2>
<p>You now can push your work to the repository in Github Classroom. You can use the GUI of your editor (e.g., vscode) to do this, or you can use the command line. </p>
<p>For command line: <a href="https://docs.github.com/en/repositories/working-with-files/managing-files/adding-a-file-to-a-repository#adding-a-file-to-a-repository-using-the-command-line">https://docs.github.com/en/repositories/working-with-files/managing-files/adding-a-file-to-a-repository#adding-a-file-to-a-repository-using-the-command-line</a></p>
<p>For vscode: <a href="https://code.visualstudio.com/docs/sourcecontrol/intro-to-git#_staging-and-committing-code-changes">https://code.visualstudio.com/docs/sourcecontrol/intro-to-git#_staging-and-committing-code-changes</a></p>
<p>Just focus on Section <em>Staging and committing code changes</em> and Section <em>Pushing and pulling remote changes</em></p>
<blockquote>
<p>Hit: Always use <code>make clean</code> to clean up the binary files compiled before you commit your change. It can avoid submitting unnecessary files (usually binary and intermediate files). </p>
</blockquote>
<h2 id="basic-linux-commands">Basic Linux Commands</h2>
<ol>
<li><code>cd [SOMEWHERE]</code>: change directory to SOMEWHERE. <code>cd /</code> will change directory to root directoty. <code>cd ..</code> will change to the upper level directory. <code>cd dir1</code> will change to <code>dir1</code> under currect directory.</li>
<li><code>ls</code> or <code>ls [SOMEWHERE]</code>: <code>ls</code> is the same as <code>ls .</code>, which means list the items in currect directory. You can use a parameter to specify which directory you want to list.</li>
</ol>
<h2 id="basic-git-commands">Basic Git Commands</h2>
<ol>
<li><code>git clone [URL]</code>: clone a repository to currect position. </li>
<li><code>git add [FILES]</code>: add some files for tracking.</li>
<li><code>git commit -c "CMNT HERE"</code>: commit the changes and append some comment.</li>
<li><code>git push</code>: push the commit(s) to the remote repository.</li>
</ol>
<h2 id="git-related-questions">Git related Questions</h2>
<h3 id="how-can-i-clone-a-private-repository-to-my-local-machine">How can I clone a private repository to my local machine?</h3>
<p><a href="https://docs.github.com/en/repositories/creating-and-managing-repositories/cloning-a-repository">https://docs.github.com/en/repositories/creating-and-managing-repositories/cloning-a-repository</a></p>
<h3 id="what-if-there-is-a-permission-error-when-i-try-cloning-a-repository">What if there is a permission error when I try cloning a repository?</h3>
<p><a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account">https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Zhaoqi Xiao. All rights reserved.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>